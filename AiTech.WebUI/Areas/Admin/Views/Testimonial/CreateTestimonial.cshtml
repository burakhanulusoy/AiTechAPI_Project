@model CreateTestimonialDto
@{
    ViewData["Title"] = "CreateTestimonial";
    Layout = "~/Views/Admin/Index.cshtml";
}


<form method="post" id="createForm">

    <div class="form-check">
        <label>Ad Soyad</label>
        <input class="form-control" type="text" asp-for="Name" placeholder="*Ad soyad yazınız" />
        <span class="text-danger" asp-validation-for="Name"></span>
    </div>

    <div class="form-check">
        <label>Meslek</label>
        <input class="form-control" type="text" asp-for="Title" placeholder="*Mesleği yazınız" />
        <span class="text-danger" asp-validation-for="Title"></span>
    </div>

    <div class="form-check">
        <label>Fotoğraf Url'i Giriniz</label>
        <input class="form-control" type="url" asp-for="ImageUrl" placeholder="*Url yazınız" />
        <span class="text-danger" asp-validation-for="ImageUrl"></span>
    </div>

    <div class="form-check">
        <label>Yorumu Yazınız</label>
        <input class="form-control" type="text" asp-for="Comment" placeholder="*Yorumu" />
        <span class="text-danger" asp-validation-for="Comment"></span>
    </div>

   


    <button type="button" onclick="createProject()" class="btn btn-outline-success">Kaydet</button>

</form>




<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

<script>
    function createProject() {
        // 1. Önce formun geçerli olup olmadığını (boş alan var mı) kontrol et
        var form = document.getElementById("createForm");

        if (!form.checkValidity()) {
            // Eğer zorunlu alanlar boşsa, tarayıcının standart uyarısını göster
            form.reportValidity();
            return;
        }

        // 2. Form geçerliyse SweetAlert'i göster
        Swal.fire({
            title: 'Projeyi yayınlamak istiyor musunuz?',
            text: "Girdiğiniz bilgilerle yeni proje oluşturulacak.",
            icon: 'question',
            showCancelButton: true,
            confirmButtonColor: '#3085d6',
            cancelButtonColor: '#d33',
            confirmButtonText: 'Evet, Oluştur!',
            cancelButtonText: 'Vazgeç'
        }).then((result) => {
            if (result.isConfirmed) {
                // 3. Kullanıcı Evet derse, işlem başarılı mesajı verip formu gönder
                Swal.fire({
                    title: 'İşlem Başlatıldı!',
                    text: 'Konrol Ediliyor...',
                    icon: 'success',
                    showConfirmButton: false, // Okey butonunu gizle
                    timer: 1500 // 1.5 saniye sonra formu gönder
                });

                // Kısa bir gecikme ile formu submit et (görsellik için)
                setTimeout(() => {
                    form.submit();
                }, 1000);
            }
        })
    }
</script>